<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<h:form xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<h:head></h:head>

	<p:breadCrumb>
		<p:menuitem value="Übersicht"
			url="http://localhost:8080/JobTicket/faces/start.xhtml" />
		<p:menuitem value="Jobticket"
			url="http://localhost:8080/JobTicket/faces/jobticket_main.xhtml" />
		<p:menuitem value="Produktbeschreibung"
			url="http://localhost:8080/JobTicket/faces/jobticket_produktbeschreibung.xhtml" />
	</p:breadCrumb>
	<h:panelGrid columns="3">
		<p:panel
			header="Produktübersicht für Job: #{produkteigenschaftenBean.job.name}">
			<p:button outcome="jobticket_main.xhtml" value="Zurück" />
			<p:button outcome="jobticket_aufwand.xhtml" value="Weiter" />
			<p />
			<p:commandButton action="#{produkteigenschaftenBean.neuesProdukt}"
				ajax="false" value="Neues Produkt anlegen">
			</p:commandButton>
			<p />
			<ui:repeat
				value="#{produkteigenschaftenBean.produkteigenschaftenFromJob}"
				var="produkteigenschaften" id="table">

				<p:fieldset legend="Produkt: #{produkteigenschaften.id}"
					toggleable="true" collapsed="false" toggleSpeed="500">
					<p:commandButton
						actionListener="#{produkteigenschaftenBean.delete(produkteigenschaften)}"
						update="@form" icon="ui-icon-trash">
					</p:commandButton>
					<p:growl id="growl" showDetail="true" sticky="true" />
					<p:commandButton icon="ui-icon-disk" update="growl"
						actionListener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:commandButton>

					


					<p:messages id="messages" />
					<h:panelGrid columns="4">
						<h:panelGrid columns="2">
							<h:inputHidden value="#{produkteigenschaften.id}"></h:inputHidden>
							<h:outputLabel></h:outputLabel>
							<p:outputLabel value="Job erledigt: "></p:outputLabel>
							<p:commandButton update="@this"
								value=" #{produkteigenschaften.erledigt ==1 ? 'ja':'nein' }"
								actionListener="#{produkteigenschaftenBean.toggleErledigt(produkteigenschaften)}"></p:commandButton>
							
							<h:outputLabel for="eingangsdatum" value="Eingangsdatum" />
							<p:calendar value="#{produkteigenschaften.eingangsdatum}"
								id="eingangsdatum" required="true" />

							<p:outputLabel for="ausgangsdatum" value="Ausgangsdatum" />
							<p:calendar value="#{produkteigenschaften.ausgangsdatum}"
								id="ausgangsdatum" />
						</h:panelGrid>
						<h:outputLabel for="fertigstellung" value="Vorlagedatum" />
						<p:calendar value="#{produkteigenschaften.vorlagedatum}"
							id="fertigstellung" />
					</h:panelGrid>
					<h:panelGrid columns="2">
						<p:outputLabel for="beschreibung" value="Beschreibung" />
						<p:inputTextarea
							value="#{produkteigenschaften.produktbeschreibung}"
							id="beschreibung" cols="60" />
					</h:panelGrid>
					<p:fieldset legend="Details" toggleable="true" collapsed="true"
						toggleSpeed="500">
						<h:panelGrid columns="2">
							<h:panelGrid columns="2">
								<p:outputLabel for="format" value="Format(B x H)" />
								<p:inputText value="#{produkteigenschaften.fomat}" id="format" />
								<p:outputLabel for="beschnitt" value="Beschnitt" />
								<p:inputText value="#{produkteigenschaften.beschnitt}"
									id="beschnitt" />
								<p:outputLabel for="farbe" value="Farbe" />
								<p:inputText value="#{produkteigenschaften.farbe4c}" id="farbe" />
								<p:outputLabel for="sonderfarbe" value="Sonderfarbe" />
								<p:inputText value="#{produkteigenschaften.sonderfarbe}"
									id="sonderfarbe" />
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:outputLabel for="seitenzahl" value="Seitenzahl" />
								<p:inputText value="#{produkteigenschaften.seitenzahl}"
									id="seitenzahl" />
								<p:outputLabel for="falzung" value="Falzung" />
								<p:inputText value="#{produkteigenschaften.falzung}"
									id="falzung" />
								<p:outputLabel for="bindung" value="Bindung" />
								<p:inputText value="#{produkteigenschaften.bindung}"
									id="bindung" />
								<p:outputLabel for="proof" value="Proof" />
								<p:inputText value="#{produkteigenschaften.proof}" id="proof" />
								<p:outputLabel for="dummy" value="Dummy" />
								<p:inputText value="#{produkteigenschaften.dummy}" id="dummy" />
							</h:panelGrid>
						</h:panelGrid>
					</p:fieldset>
				</p:fieldset>
			</ui:repeat>
		</p:panel>

	</h:panelGrid>

	<!-- <p:separator id="separator" />  -->





</h:form>
