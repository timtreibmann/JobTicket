<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<h:form xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:p="http://primefaces.org/ui">

	<h:head></h:head>



	<p:panel style="width:50%">
		<p:breadCrumb>
			<p:menuitem value="Übersicht"
				url="http://localhost:8080/JobTicket/faces/start.xhtml" />
			<p:menuitem value="Jobticket"
				url="http://localhost:8080/JobTicket/faces/jobticket_main.xhtml" />
			<p:menuitem value="Produktbeschreibung"
				url="http://localhost:8080/JobTicket/faces/jobticket_produktbeschreibung.xhtml" />
		</p:breadCrumb>
		<p:button outcome="jobticket_main.xhtml" value="Zurück" />
		<p:button outcome="jobticket_aufwand.xhtml" value="Weiter" />
		<p />
		<p:commandButton action="#{produkteigenschaftenBean.neuesProdukt}"
			ajax="false" value="Neues Produkt anlegen">
		</p:commandButton>
		<p />
		<ui:repeat
			value="#{jobticketBean.job.produkteigenschaftens}"
			var="produkteigenschaften" id="table">

			<p:accordionPanel activeIndex="-1">

				<p:tab id="tab"  title="Produkt: #{fn:substring(produkteigenschaften.produktbeschreibung,0,40)} ... ">
					<p:commandButton
						actionListener="#{produkteigenschaftenBean.delete(produkteigenschaften)}"
						update="@form" icon="ui-icon-trash">
					</p:commandButton>
					<p:growl id="growl" showDetail="true" sticky="false" />
					<h:panelGrid columns="4">
						<h:panelGrid columns="2">
							<h:inputHidden value="#{produkteigenschaften.id}"></h:inputHidden>
							<h:outputLabel></h:outputLabel>
							<p:outputLabel value="Aufgabe erledigt: "></p:outputLabel>
							<p:commandButton update="@form"
								icon=" #{produkteigenschaften.erledigt ==1 ? 'ui-icon-check':'ui-icon-close' }"
								actionListener="#{produkteigenschaftenBean.toggleErledigt(produkteigenschaften)}"></p:commandButton>

							<h:outputLabel for="eingangsdatum" value="Eingangsdatum" />
							<p:calendar value="#{produkteigenschaften.eingangsdatum}"
								id="eingangsdatum" required="true">
								<p:ajax event="dateSelect" process="@this" update="growl"
									listener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:ajax>

							</p:calendar>

							<p:outputLabel for="ausgangsdatum" value="Ausgangsdatum" />
							<p:calendar value="#{produkteigenschaften.ausgangsdatum}"
								id="ausgangsdatum">
								<p:ajax event="dateSelect" process="@this" update="growl"
									listener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:ajax>
							</p:calendar>
						</h:panelGrid>
						<h:outputLabel for="fertigstellung" value="Vorlagedatum" />
						<p:calendar value="#{produkteigenschaften.vorlagedatum}"
							id="fertigstellung">
							<p:ajax event="dateSelect" process="@this" update="growl"
								listener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:ajax>
						</p:calendar>
					</h:panelGrid>
					<h:panelGrid columns="2">
						<p:outputLabel for="beschreibung" value="Beschreibung" />
						<p:inputTextarea
							value="#{produkteigenschaften.produktbeschreibung}"
							id="beschreibung" cols="60">
							<p:ajax event="change" process="@this" update="growl"
								listener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:ajax>
						</p:inputTextarea>
					</h:panelGrid>
					<p:panel header="Details" toggleable="true" collapsed="true">
						<h:panelGrid columns="2">
							<h:panelGrid columns="2">
								<p:outputLabel for="format" value="Format(B x H)" />
								<p:inputText value="#{produkteigenschaften.fomat}" id="format">
									<p:ajax event="change" process="@this" update="growl"
										listener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:ajax>
								</p:inputText>
								<p:outputLabel for="beschnitt" value="Beschnitt" />
								<p:inputText value="#{produkteigenschaften.beschnitt}"
									id="beschnitt">
									<p:ajax event="change" process="@this" update="growl"
										listener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:ajax>
								</p:inputText>
								<p:outputLabel for="farbe" value="Farbe" />
								<p:inputText value="#{produkteigenschaften.farbe4c}" id="farbe">
									<p:ajax event="change" process="@this" update="growl"
										listener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:ajax>
								</p:inputText>
								<p:outputLabel for="sonderfarbe" value="Sonderfarbe" />
								<p:inputText value="#{produkteigenschaften.sonderfarbe}"
									id="sonderfarbe">
									<p:ajax event="change" process="@this" update="growl"
										listener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:ajax>
								</p:inputText>
							</h:panelGrid>
							<h:panelGrid columns="2">
								<p:outputLabel for="seitenzahl" value="Seitenzahl" />
								<p:inputText value="#{produkteigenschaften.seitenzahl}"
									id="seitenzahl">
									<p:ajax event="change" process="@this" update="growl"
										listener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:ajax>
								</p:inputText>
								<p:outputLabel for="falzung" value="Falzung" />
								<p:inputText value="#{produkteigenschaften.falzung}"
									id="falzung">
									<p:ajax event="change" process="@this" update="growl"
										listener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:ajax>
								</p:inputText>
								<p:outputLabel for="bindung" value="Bindung" />
								<p:inputText value="#{produkteigenschaften.bindung}"
									id="bindung">
									<p:ajax event="change" process="@this" update="growl"
										listener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:ajax>
								</p:inputText>
								<p:outputLabel for="proof" value="Proof" />
								<p:inputText value="#{produkteigenschaften.proof}" id="proof">
									<p:ajax event="change" process="@this" update="growl"
										listener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:ajax>
								</p:inputText>
								<p:outputLabel for="dummy" value="Dummy" />
								<p:inputText value="#{produkteigenschaften.dummy}" id="dummy">
									<p:ajax event="change" process="@this" update="growl"
										listener="#{produkteigenschaftenBean.updateProdukteigenschaften(produkteigenschaften)}"></p:ajax>
								</p:inputText>
							</h:panelGrid>
						</h:panelGrid>
					</p:panel>
				</p:tab>
			</p:accordionPanel>
		</ui:repeat>
	</p:panel>




</h:form>
