<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head></h:head>
<h:body>
	<h:form>


		<h:outputStylesheet library="css" name="style.css" />

		<p:panel style="width:60%">

			<p:breadCrumb>
				<p:menuitem value="Übersicht" url="start.xhtml" />
				<p:menuitem disabled="#{jobticketBean.showAllOnOnePage}" value="Jobticket" url="jt_main.xhtml" />
				<p:menuitem disabled="#{jobticketBean.showAllOnOnePage}" value="Produktbeschreibung" url="jt_produkte.xhtml" />
				<p:menuitem disabled="#{jobticketBean.showAllOnOnePage}" value="Aufwand festlegen" url="jt_aufwand.xhtml" />
				<p:menuitem value="Übersicht" url="jobticket_overview.xhtml" />
			</p:breadCrumb>
			<p></p>
			<p:dataTable var="job" value="#{jobticketBean.job}">
				<f:facet name="header">Jobticket</f:facet>
				<p:column headerText="Jobnummer">
					<p:outputLabel value="#{job.id}"></p:outputLabel>
				</p:column>
				<p:column headerText="Alte Jobnummer">
					<p:outputLabel value="#{job.alteJobnummer}"></p:outputLabel>
				</p:column>
				<p:column headerText="Name">
					<p:outputLabel value="#{job.name}"></p:outputLabel>
				</p:column>
				<p:column headerText="Beschreibung">
					<p:outputLabel value="#{job.jobbeschreibung}"></p:outputLabel>
				</p:column>
				<p:column headerText="Kunde">
					<p:outputLabel value="#{job.kunde.name}"></p:outputLabel>
				</p:column>
				<p:column headerText="Budget in Euro">
					<p:outputLabel value="#{job.budgetInEuro}"></p:outputLabel>
				</p:column>
			</p:dataTable>

			<p></p>

			<p:dataTable var="produkt"
				value="#{jobticketBean.job.produkteigenschaftens}">
				<f:facet name="header">Produkte</f:facet>
				<p:column headerText="Produktbeschreibung">
					<p:outputLabel value="#{produkt.produktbeschreibung}"></p:outputLabel>
				</p:column>

				<p:column headerText="Eingangsdatum">
					<p:outputLabel value="#{produkt.eingangsdatum}">
						<f:convertDateTime type="date"></f:convertDateTime>
					</p:outputLabel>
				</p:column>
				<p:column headerText="Erledigt">

					<p:outputLabel value="#{produkt.erledigt==1 ? 'ja' : 'nein'}"></p:outputLabel>

				</p:column>
			</p:dataTable>

			<p></p>

			<p:dataTable var="kosten" value="#{jobticketBean.job.kostens}">
				<f:facet name="header">Kosten</f:facet>
				<p:column headerText="Angestellter">

					<p:outputLabel
						value="#{kosten.angestellte.vorname} #{kosten.angestellte.nachname} "></p:outputLabel>
				</p:column>

				<p:column headerText="Aufwand">
					<p:outputLabel value="#{kosten.arbeitsaufwand}"></p:outputLabel>
				</p:column>
				<p:column headerText="Aufwandsart">
					<p:outputLabel
						value="#{kosten.arbeitsaufwandIstInEuro==1 ? '€' : 'Stunden'}"></p:outputLabel>
				</p:column>
			</p:dataTable>
			<p></p>
			<p:outputLabel value="Gesamtkosten: #{aufwandBean.gesamtKosten} €"></p:outputLabel>
		</p:panel>
		<p:button value="Zurück"
			outcome="#{jobticketBean.showAllOnOnePage ? 'ticketanzeige.xhtml' : 'jt_aufwand.xhtml'}"></p:button>
		<p:commandButton ajax="false" value="Fertig"
			action="#{jobticketBean.refreshFilter}"></p:commandButton>
	</h:form>
</h:body>
</html>