<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head />
<h:body>
	<ui:composition template="templates/structure_single.xhtml">
		<ui:define name="main">
			<ui:include src="templates/jobticket_produktbeschreibung.xhtml" />
			<p:panel style="width:850px">
				<p:button outcome="jt_main.xhtml" value="Zurück" />
				<p:button outcome="jt_aufwand.xhtml" value="Weiter" />

				<p:commandButton value="Speichern"
					action="#{jobBean.saveJobAndRedirect('jt_produkte.xhtml')}" />

				<p:commandButton value="Job-Tabelle" style="float:right"
					action="#{startBean.checkUnsavedChanges('start.xhtml')}" />

				<p:commandButton value="Zur Job Overview" style="float:right"
					action="#{startBean.checkUnsavedChanges('jobticket_overview.xhtml')}" />

				<p:dialog header="Ungespeicherte Änderungen gefunden!"
					widgetVar="reminder1" modal="true">
					<h:outputText value="Vorm verlassen speichern?" />
					<p:commandButton value="Ja"
						action="#{jobBean.saveJobAndRedirect('start.xhtml')}" />
					<p:commandButton actionListener="#{startBean.resetJob}"
						value="Nein" />
				</p:dialog>
				<p:dialog header="Ungespeicherte Änderungen gefunden!"
					widgetVar="reminder2" modal="true">
					<h:outputText value="Vorm verlassen speichern?" />
					<p:commandButton value="Ja"
						action="#{jobBean.saveJobAndRedirect('jobticket_overview.xhtml')}" />
					<p:commandButton value="Nein" action="#{startBean.reloadJob()}" />
				</p:dialog>
			</p:panel>
		</ui:define>
	</ui:composition>
</h:body>
</html>